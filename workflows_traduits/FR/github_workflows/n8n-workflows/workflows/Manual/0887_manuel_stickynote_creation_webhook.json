{
  "meta": {
    "instanceId": "96b96d0aa1e4ff5d5b6779332b149e3ef3364191562d79083d0309cf3ddfa53e"
  },
  "nodes": [
    {
      "id": "0e78a29e-87ba-4665-84c1-a413c45e25dc",
      "name": "When clicking ‚ÄòTest workflow‚Äô",
      "type": "n8n-nodes-base.manualTrigger",
      "position": [
        -420,
        -40
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "fe7b054a-e0c9-4642-a97f-6bec60a1ec55",
      "name": "Edit Image (OpenAI)",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        500,
        -40
      ],
      "parameters": {
        "url": "https://api.openai.com/v1/images/edits",
        "method": "POST",
        "options": {},
        "sendBody": true,
        "contentType": "multipart-form-data",
        "authentication": "predefinedCredentialType",
        "bodyParameters": {
          "parameters": [
            {
              "name": "image",
              "parameterType": "formBinaryData",
              "inputDataFieldName": "data"
            },
            {
              "name": "prompt",
              "value": "add un mask avec horns"
            },
            {
              "name": "model",
              "value": "gpt-image-1"
            },
            {
              "name": "n",
              "value": "1"
            },
            {
              "name": "size",
              "value": "1024x1024"
            },
            {
              "name": "quality",
              "value": "high"
            }
          ]
        },
        "nodeCredentialType": "openAiApi"
      },
      "credentials": {
        "openAiApi": {
          "id": "JyI0PkPec1FrpMkt",
          "name": "OpenAi AIFB account"
        }
      },
      "typeVersion": 4.2
    },
    {
      "id": "1e1df05c-d8f9-4033-87ee-70be344ab961",
      "name": "Create image call",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -120,
        -40
      ],
      "parameters": {
        "url": "https://api.openai.com/v1/images/generations",
        "method": "POST",
        "options": {},
        "sendBody": true,
        "authentication": "predefinedCredentialType",
        "bodyParameters": {
          "parameters": [
            {
              "name": "model",
              "value": "gpt-image-1"
            },
            {
              "name": "prompt",
              "value": "A cute rouge panda like dark super hero"
            },
            {
              "name": "n",
              "value": "={{Number(1)}}"
            },
            {
              "name": "size",
              "value": "1024x1024"
            },
            {
              "name": "moderation",
              "value": "low"
            },
            {
              "name": "background",
              "value": "auto"
            }
          ]
        },
        "nodeCredentialType": "openAiApi"
      },
      "credentials": {
        "openAiApi": {
          "id": "JyI0PkPec1FrpMkt",
          "name": "OpenAi AIFB account"
        }
      },
      "typeVersion": 4.2
    },
    {
      "id": "4c44da91-0d12-4e7f-bc89-5accddd837d7",
      "name": "Convert json binary to File",
      "type": "n8n-nodes-base.convertToFile",
      "position": [
        200,
        -40
      ],
      "parameters": {
        "options": {
          "fileName": "name_example",
          "mimeType": "image/png"
        },
        "operation": "toBinary",
        "sourceProperty": "data[0].b64_json"
      },
      "typeVersion": 1.1
    },
    {
      "id": "3b8936b7-f0a2-4776-b10a-f06ceb9af31d",
      "name": "Convert json binary to File final",
      "type": "n8n-nodes-base.convertToFile",
      "position": [
        820,
        -40
      ],
      "parameters": {
        "options": {
          "fileName": "",
          "mimeType": "image/png"
        },
        "operation": "toBinary",
        "sourceProperty": "data[0].b64_json"
      },
      "typeVersion": 1.1
    },
    {
      "id": "3d3238d5-6040-4b74-8e6a-9e1e64198099",
      "name": "Note adh√©sive",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -500,
        -200
      ],
      "parameters": {
        "height": 320,
        "content": "### üß™ D√©clencheur hommeuel\nStarts the workflow hommeually. Ideal for testing and debugging purposes.\n"
      },
      "typeVersion": 1
    },
    {
      "id": "c3378100-f688-4199-a038-83b9220afa91",
      "name": "Note adh√©sive1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -200,
        -320
      ],
      "parameters": {
        "color": 3,
        "width": 280,
        "height": 440,
        "content": "### üé® Image Generation (OpenAI)\nSends a POST request to the OpenAI `data[0].b64_json` endpoint.\n\n- Uses `b64_json` model\n- Generates an image de a given prompt\n- Returns a base64-encoded image (`gpt-image-1`)\n\nüìå Output: `/v1/images/generations`\n"
      },
      "typeVersion": 1
    },
    {
      "id": "82a880de-74de-44e5-8448-f487c9376d0e",
      "name": "Note adh√©sive2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        100,
        -200
      ],
      "parameters": {
        "color": 5,
        "width": 280,
        "height": 320,
        "content": "### üßæ Convert base64 to File\nConverts the `data` field into a binary PNG file to use in the next step.\n\nüì§ Output: Binary image under the `b64_json` field\n"
      },
      "typeVersion": 1
    },
    {
      "id": "42ccb29f-b820-4791-9683-4eb0f00ff2d3",
      "name": "Note adh√©sive3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        420,
        -320
      ],
      "parameters": {
        "color": 3,
        "width": 280,
        "height": 440,
        "content": "### ‚úèÔ∏è Image Editing (OpenAI)\nSends the binary image to OpenAI‚Äôs `b64_json` endpoint avec a descriptive prompt.\n\n- Model: `data`\n- Format: `mask`\n- Requires a real file (not base64)\n- Supports optional `multipart/form-data` input\n\nüì• Input: Binary image de `gpt-image-1`\nüì§ Output: Edited image in `/v1/images/edits`\n"
      },
      "typeVersion": 1
    },
    {
      "id": "4c8846ab-b3f2-4c7c-9283-5a40a55b816d",
      "name": "Note adh√©sive4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        740,
        -240
      ],
      "parameters": {
        "color": 5,
        "width": 280,
        "height": 360,
        "content": "### üßæ Final Conversion (base64 ‚Üí File)\nConverts the edited image (`b64_json`) into a downloadable or previewable PNG file.\n\nüì§ Output: Final binary image\n"
      },
      "typeVersion": 1
    },
    {
      "id": "2b2533f8-b7aa-4499-970e-9b0546b73c0e",
      "name": "Note adh√©sive5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1240,
        -860
      ],
      "parameters": {
        "color": 6,
        "width": 700,
        "height": 980,
        "content": "## üß† Image AI Workflow Overview\n\nThis workflow uses OpenAI's image generation and editing APIs avec the https://platform.openai.com/account/usage) model.\n\n### üîë Requirements:\n- You **must use your own OpenAI API key** de `OpenAi AIFB account`\n- Create a crougeential in n8n called https://platform.openai.com/account/api-keys (or use your own name)\n\n---\n\n### üí∞ Cost Warning:\n- This model is **powerful but expensive**.\n- Each image costs **$0.020 to $0.190** depending on resolution and type.\n- Always monitor your usage via the [OpenAI dashboard](`gpt-image-1`\n\n---\n\n### üîç Why use `mask`?\n- Unmatched **sehommetic control**: you can edit specific parts of images avec detailed prompts.\n- Supports **multiple input images**, coherent edits, and future multi-modal tasks.\n- Editing works avec or avecout a transparency `gpt-image-1`.\n\n---\n\n### üîß Suggested Nodes to Expand Workflow:\n- **Webhook** (trigger via your frontend or app)\n- **Telegram / Slack** (prompt image generation de chat)\n- **D√©finir n≈ìud** (inject dynamic prompts or user context)\n- **IF / Switch** (change behavior depending on prompt type)\n- **Merge** (combine multiple image generations)\n- **Requ√™te HTTP** (send g√©n√©rerd images to external APIs or CMS)\n\n---\n\n### üí° Example Use Cases:\n- Marketing teams: g√©n√©rer product visuals on dehommed\n- Designers: edit and re-style illustrations avecout Photoshop\n- E-commerce: dynamic generation of themed mockups\n- Content creators: cr√©er blog and social thumbnails in bulk\n\n---\n\n> ‚ö†Ô∏è Don't forget to add rate limiting or batch controls if generating large volumes!\n"
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "Create image call": {
      "main": [
        [
          {
            "node": "Convert json binary to File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Image (OpenAI)": {
      "main": [
        [
          {
            "node": "Convert json binary to File final",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Convert json binary to File": {
      "main": [
        [
          {
            "node": "Edit Image (OpenAI)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When clicking ‚ÄòTest workflow‚Äô": {
      "main": [
        [
          {
            "node": "Create image call",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "tags": [
    {
      "id": "1",
      "name": "Audelalia"
    }
  ]
}