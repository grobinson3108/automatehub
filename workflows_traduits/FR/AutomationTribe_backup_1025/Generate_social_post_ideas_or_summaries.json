{
  "name": "G√©n√©rer des id√©es de publications sociales ou des r√©sum√©s",
  "nodes": [
    {
      "parameters": {
        "operation": "search",
        "base": {
          "__rl": true,
          "value": "appyicvXaO5b9dQ5A",
          "mode": "id"
        },
        "table": {
          "__rl": true,
          "value": "tblPdvidblRqBLFrd",
          "mode": "id"
        },
        "filterByFormula": "=",
        "returnAll": false,
        "limit": 1,
        "options": {},
        "sort": {
          "property": [
            {
              "field": "Last modified time",
              "direction": "desc"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        -500,
        -220
      ],
      "id": "38018968-d949-45db-8985-5f3709953b10",
      "name": "Airtable",
      "alwaysOutputData": false,
      "credentials": {
        "airtableTokenApi": {
          "id": "bayZlSl5jp9utzQ6",
          "name": "Airtable account"
        }
      }
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -720,
        -220
      ],
      "id": "6d56f61e-5a79-4390-ba5e-db5f8ca4b2ee",
      "name": "Lorsque vous cliquez sur ‚ÄòTest workflow‚Äô"
    },
    {
      "parameters": {
        "inputText": "={{ $json.URL }}",
        "categories": {
          "categories": [
            {
              "category": "Youtube link",
              "description": "Youtube link"
            },
            {
              "category": "Blog post",
              "description": "Blog post or any other link if it is not from youtube"
            }
          ]
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.textClassifier",
      "typeVersion": 1,
      "position": [
        -280,
        -220
      ],
      "id": "4b2c3bff-a1c2-4102-9476-483588186e4e",
      "name": "Classificateur de texte"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -280,
        0
      ],
      "id": "b56c66c1-f3e8-4b51-9204-9f714e04396e",
      "name": "Mod√®le de chat OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "wMKWK2pxtmnFBWY4",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://app.dumplingai.com/api/v1/get-youtube-transcript",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer ADD YOUR API HERE"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "videoUrl",
              "value": "={{ $json.URL }}"
            },
            {
              "name": "includeTimestamps",
              "value": "true"
            },
            {
              "name": "timestampsToCombine",
              "value": "5"
            },
            {
              "name": "preferredLanguage",
              "value": "en"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        140,
        -360
      ],
      "id": "5e7ae06f-5cf3-49f3-87ab-f213d852e017",
      "name": "Dumpling Youtube"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://app.dumplingai.com/api/v1/scrape",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer ADD YOUR API HERE"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "url",
              "value": "={{ $json.URL }}"
            },
            {
              "name": "format",
              "value": "markdown"
            },
            {
              "name": "cleaned",
              "value": "true"
            },
            {
              "name": "renderJs",
              "value": "true"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        140,
        -80
      ],
      "id": "a6c6575f-4268-487f-9cc9-eea219de30e2",
      "name": "Dumpling Blog"
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "GPT-4O-MINI"
        },
        "messages": {
          "values": [
            {
              "content": "=G√©n√©rez des publications sur les r√©seaux sociaux sur mesure pour LinkedIn, Instagram, Twitter (X) et Facebook en fonction du contenu donn√©, qui peut √™tre soit un r√©sum√© d'article, soit une transcription YouTube.\n\t‚Ä¢\tLinkedIn : R√©digez un post professionnel et perspicace r√©sumant les points cl√©s avec un ton formel, positionnant le contenu comme une ressource pr√©cieuse.\n\t‚Ä¢\tInstagram : Cr√©ez une l√©gende courte et engageante avec un appel √† l'action convaincant et des hashtags pertinents pour susciter l'interaction.\n\t‚Ä¢\tTwitter (X) : Cr√©ez un post concis de moins de 280 caract√®res qui met en avant les points cl√©s et inclut quelques hashtags percutants.\n\t‚Ä¢\tFacebook : D√©veloppez un post conversationnel qui fournit un contexte suppl√©mentaire et inclut un lien vers l'article ou la vid√©o pour encourager l'engagement.\n\nCela doit √™tre r√©dig√© d'un point de vue √† la troisi√®me personne, positionnant le contenu comme une source d'information externe.\n\n**Ou Transcription YouTube :**\n{{ $json?.transcript ?? 'Transcription non disponible' }}\n\nLa r√©ponse doit √™tre structur√©e au format JSON valide comme suit :\n\n{\n  \"linkedin\": \"Ce contenu explore [sujet cl√©], offrant des perspectives sur [principaux enseignements]. Les professionnels cherchant √† [objectif ou impact] trouveront ici des strat√©gies pr√©cieuses. En savoir plus : [URL]\",\n  \"instagram\": \"D√©couvrez comment [sujet cl√©] peut transformer votre [secteur ou domaine] ! üöÄ Regardez/lisez les derni√®res perspectives maintenant. #Innovation #Succ√®s #VotreHashtag [URL]\",\n  \"twitter\": \"[Sujet cl√©] change la donne ! D√©couvrez les derni√®res perspectives sur [principal enseignement]. #Tendance #VotreHashtag [URL]\",\n  \"facebook\": \"Un incontournable √† lire/regarder sur [sujet cl√©] ! Cela d√©compose [principal enseignement] et offre des perspectives pr√©cieuses pour ceux dans [secteur]. Plongez-y : [URL]\"\n}\n\nAssurez-vous que la sortie soit toujours un objet JSON correctement format√©."
            }
          ]
        },
        "jsonOutput": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        420,
        -360
      ],
      "id": "bf6a8fbb-ac30-43af-bba3-d44c1d22f94e",
      "name": "OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "wMKWK2pxtmnFBWY4",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentURL": "1uCsWoY62zjxN1wKyRBYpJHqVo5fmxYUUrYczSl4jLNY",
        "actionsUi": {
          "actionFields": [
            {
              "action": "insert",
              "text": "=Current date: {{ $now.format('dd LLL yyyy') }}\n\nLinked in post:\n{{ $json.fields.LinkedIn }}\n\nInstagram:\n{{ $json.fields.Instagram }}\n\nTwitter:\n{{ $json.fields.X }}\n\nFacebook:\n{{ $json.fields.Facebook }}\n\n"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.googleDocs",
      "typeVersion": 2,
      "position": [
        1200,
        -220
      ],
      "id": "9af3bd55-33fe-41c2-a688-c7e9d218d9a8",
      "name": "Google Docs",
      "credentials": {
        "googleDocsOAuth2Api": {
          "id": "FikZ42aM2PhAMZs4",
          "name": "Google Docs account"
        }
      }
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "GPT-4O-MINI"
        },
        "messages": {
          "values": [
            {
              "content": "=G√©n√©rez des publications sur les r√©seaux sociaux adapt√©es pour LinkedIn, Instagram, Twitter (X) et Facebook en fonction du r√©sum√© de l'article suivant :\n\t‚Ä¢\tLinkedIn : R√©digez un post professionnel et perspicace qui r√©sume les points cl√©s dans un ton formel, positionnant l'article comme une ressource pr√©cieuse.\n\t‚Ä¢\tInstagram : Cr√©ez une courte l√©gende engageante avec un appel √† l'action convaincant et des hashtags pertinents pour susciter l'interaction.\n\t‚Ä¢\tTwitter (X) : R√©digez un post concis de moins de 280 caract√®res qui met en avant les points cl√©s et inclut quelques hashtags percutants.\n\t‚Ä¢\tFacebook : D√©veloppez un post conversationnel qui fournit un contexte suppl√©mentaire et inclut un lien vers l'article pour encourager l'engagement.\n\nCela doit √™tre √©crit comme si l'on se r√©f√®re √† l'article d'un point de vue tiers, le positionnant comme une source d'information externe.\n\n**R√©sum√© de l'article :**\n{{ $('Dumpling Blog')?.item?.json?.title ?? 'Titre non disponible' }}\n{{ $('Dumpling Blog')?.item?.json?.metadata?.description ?? 'Description non disponible' }}\n{{ $('Dumpling Blog')?.item?.json?.content ?? 'Contenu non disponible' }}\n{{ $('Classificateur de texte')?.item?.json?.URL ?? 'URL non disponible' }}\n\nLa r√©ponse doit √™tre format√©e en tant que JSON valide avec la structure suivante :\n\n{\n  \"linkedin\": \"Cet article explore [sujet cl√©], fournissant des insights sur [principaux enseignements]. Les professionnels cherchant √† [objectif ou impact] trouveront ici des strat√©gies pr√©cieuses. En savoir plus : [URL]\",\n  \"instagram\": \"D√©couvrez comment [sujet cl√©] peut transformer votre [secteur ou domaine] ! üöÄ Lisez les derni√®res insights maintenant. #Innovation #Succ√®s #VotreHashtag [URL]\",\n  \"twitter\": \"[Sujet cl√©] change la donne ! D√©couvrez les derni√®res insights sur [principal enseignement]. #Tendance #VotreHashtag [URL]\",\n  \"facebook\": \"Un article incontournable sur [sujet cl√©] ! Il d√©compose [principal enseignement] et offre des insights pr√©cieux pour ceux dans [secteur]. Plongez-y : [URL]\"\n}"
            }
          ]
        },
        "jsonOutput": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        420,
        -80
      ],
      "id": "05f2d1fe-5351-4d51-af9d-ee573eb1bacb",
      "name": "Texte : OpenAI1  \nTraduction : OpenAI1",
      "credentials": {
        "openAiApi": {
          "id": "wMKWK2pxtmnFBWY4",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "base": {
          "__rl": true,
          "value": "appyicvXaO5b9dQ5A",
          "mode": "id"
        },
        "table": {
          "__rl": true,
          "value": "tblPdvidblRqBLFrd",
          "mode": "id"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id": "={{ $('Airtable').item.json.id }}",
            "LinkedIn": "={{ $json.message.content.linkedin }}",
            "Instagram": "={{ $json.message.content.instagram }}",
            "X": "={{ $json.message.content.twitter }}",
            "Facebook": "={{ $json.message.content.facebook }}"
          },
          "matchingColumns": [
            "id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": false
            },
            {
              "id": "URL",
              "displayName": "URL",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "LinkedIn",
              "displayName": "LinkedIn",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Instagram",
              "displayName": "Instagram",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "X",
              "displayName": "X",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Facebook",
              "displayName": "Facebook",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Created time",
              "displayName": "Created time",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Last modified time",
              "displayName": "Last modified time",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        780,
        -360
      ],
      "id": "553ba32e-099f-456f-934e-ca5265fbb8bb",
      "name": "Airtable1",
      "credentials": {
        "airtableTokenApi": {
          "id": "bayZlSl5jp9utzQ6",
          "name": "Airtable account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "base": {
          "__rl": true,
          "value": "appyicvXaO5b9dQ5A",
          "mode": "id"
        },
        "table": {
          "__rl": true,
          "value": "tblPdvidblRqBLFrd",
          "mode": "id"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id": "={{ $('Airtable').item.json.id }}",
            "LinkedIn": "={{ $json.message.content.linkedin }}",
            "Instagram": "={{ $json.message.content.instagram }}",
            "X": "={{ $json.message.content.twitter }}",
            "Facebook": "={{ $json.message.content.facebook }}"
          },
          "matchingColumns": [
            "id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": false
            },
            {
              "id": "URL",
              "displayName": "URL",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "LinkedIn",
              "displayName": "LinkedIn",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Instagram",
              "displayName": "Instagram",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "X",
              "displayName": "X",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Facebook",
              "displayName": "Facebook",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Created time",
              "displayName": "Created time",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Last modified time",
              "displayName": "Last modified time",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        800,
        -80
      ],
      "id": "6360ba28-7260-4b00-a2a7-5db05beae94d",
      "name": "Airtable2",
      "credentials": {
        "airtableTokenApi": {
          "id": "bayZlSl5jp9utzQ6",
          "name": "Airtable account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "When clicking ‚ÄòTest workflow‚Äô": {
      "main": [
        [
          {
            "node": "Airtable",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Airtable": {
      "main": [
        [
          {
            "node": "Text Classifier",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Text Classifier",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Text Classifier": {
      "main": [
        [
          {
            "node": "Dumpling Youtube",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Dumpling Blog",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Dumpling Youtube": {
      "main": [
        [
          {
            "node": "OpenAI",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Dumpling Blog": {
      "main": [
        [
          {
            "node": "OpenAI1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI": {
      "main": [
        [
          {
            "node": "Airtable1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI1": {
      "main": [
        [
          {
            "node": "Airtable2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Airtable1": {
      "main": [
        [
          {
            "node": "Google Docs",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Airtable2": {
      "main": [
        [
          {
            "node": "Google Docs",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "fccedb58-6ef9-4930-8267-98c5f68032be",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "bd95e83f261cee4e80d731cb58d1c4799127663205327ab783b076c62312dcdf"
  },
  "id": "Fdvxhe6rNdzZCCzy",
  "tags": [
    {
      "id": "1",
      "name": "Audelalia"
    }
  ]
}