{
  "meta": {
    "instanceId": "26ba763460b97c249b82942b23b6384876dfeb9327513332e743c5f6219c2b8e"
  },
  "nodes": [
    {
      "id": "51dbe3b4-42f6-43c9-85dc-42ae49be6ba9",
      "name": "Obtenir les donn√©es de l'appel d'offres",
      "type": "n8n-nodes-base.extractFromFile",
      "position": [
        1003,
        278
      ],
      "parameters": {
        "options": {},
        "operation": "pdf"
      },
      "typeVersion": 1
    },
    {
      "id": "c42e6bfc-a426-4d12-bf95-f3fe6e944631",
      "name": "Analyseur de sortie de liste d'√©l√©ments",
      "type": "@n8n/n8n-nodes-langchain.outputParserItemList",
      "position": [
        2140,
        540
      ],
      "parameters": {
        "options": {}
      },
      "typeVersion": 1
    },
    {
      "id": "1703e9c3-f49e-4272-ad11-0b9d4e9a76c6",
      "name": "Pour chaque question...",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        2460,
        340
      ],
      "parameters": {
        "options": {}
      },
      "typeVersion": 3
    },
    {
      "id": "a54fa4ee-6f67-41a9-89fe-fd9f2bf094de",
      "name": "Note autocollante",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        760,
        60
      ],
      "parameters": {
        "color": 7,
        "width": 532.597092515486,
        "height": 508.1316876142587,
        "content": "## 1. API pour d√©clencher le workflow\n[En savoir plus sur l'utilisation des Webhooks](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.webhook/)\n\nCe workflow n√©cessite que l'utilisateur soumette le document de l'appel d'offres via une requ√™te API. Il est courant d'utiliser le n≈ìud webhook √† cette fin. Assurez-vous de s√©curiser ce point de terminaison webhook en production !"
      },
      "typeVersion": 1
    },
    {
      "id": "fdef005f-7838-4b8c-8af4-4b7c6f947ee2",
      "name": "D√©finir les variables",
      "type": "n8n-nodes-base.set",
      "position": [
        1143,
        278
      ],
      "parameters": {
        "mode": "raw",
        "options": {},
        "jsonOutput": "={\n  \"doc_title\": \"{{ $('Wait for Request').item.json.body.title }}\",\n  \"doc_filename\": \"{{ $('Wait for Request').item.json.body.id }} | {{ $('Wait for Request').item.json.body.title }} | {{ $now.format('yyyyMMddhhmmss') }}| RFP Response\",\n  \"reply_to\": \"{{ $('Wait for Request').item.json.body.reply_to }}\"\n}\n"
      },
      "typeVersion": 3.3
    },
    {
      "id": "a64f6274-62fc-42fb-b7c7-5aa85746c621",
      "name": "Note autocollante1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1320,
        148.42417112849222
      ],
      "parameters": {
        "color": 7,
        "width": 493.289385759178,
        "height": 418.29352785836636,
        "content": "## 2. Cr√©er un nouveau document pour capturer les r√©ponses aux questions de l'appel d'offres\n[En savoir plus sur le travail avec Google Docs](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.googledocs/)\n\nPour chaque appel d'offres que nous traitons, cr√©ons son propre document pour stocker les r√©sultats. Il servira de document brouillon pour la r√©ponse √† l'appel d'offres."
      },
      "typeVersion": 1
    },
    {
      "id": "2b3df6af-c1ab-44a1-8907-425944294477",
      "name": "Cr√©er un nouveau document de r√©ponse √† l'appel d'offres",
      "type": "n8n-nodes-base.googleDocs",
      "position": [
        1420,
        340
      ],
      "parameters": {
        "title": "={{ $json.doc_filename }}",
        "folderId": "=1y0I8MH32maIWCJh767mRE_NMHC6A3bUu"
      },
      "credentials": {
        "googleDocsOAuth2Api": {
          "id": "V0G0vi1DRj7Cqbp9",
          "name": "Google Docs account"
        }
      },
      "typeVersion": 2
    },
    {
      "id": "0bf30bef-2910-432b-b5eb-dee3fe39b797",
      "name": "Note autocollante2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1840,
        110.52747078833045
      ],
      "parameters": {
        "color": 7,
        "width": 500.1029039641811,
        "height": 599.9895116376663,
        "content": "## 3. Identification des questions √† l'aide de l'IA\n[En savoir plus sur la cha√Æne Question & R√©ponse](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.chainretrievalqa/)\n\nGr√¢ce √† la puissance des LLM, nous sommes capables d'extraire le questionnaire de l'appel d'offres ind√©pendamment du format ou de la mise en page d'origine. Cela permet √† AutoRFP de g√©rer un large √©ventail d'appels d'offres sans n√©cessiter de r√®gles d'extraction explicites pour les cas particuliers.\n\nDe plus, nous utiliserons l'Input List Output Parser pour retourner une liste de questions pour un traitement ult√©rieur."
      },
      "typeVersion": 1
    },
    {
      "id": "1c064047-1f6a-47c8-bb49-85b4d6f8e854",
      "name": "Note adh√©sive3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2380,
        84.66944065837868
      ],
      "parameters": {
        "color": 7,
        "width": 746.3888903304862,
        "height": 600.3660610069576,
        "content": "## 4. G√©n√©ration de paires Question & R√©ponse avec l'IA\n[En savoir plus sur l'utilisation des assistants OpenAI dans n8n](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-langchain.openai/)\n\nEn pr√©parant un assistant OpenAI avec du mat√©riel marketing et des documents commerciaux concernant notre entreprise et nos activit√©s, nous pouvons utiliser l'IA pour r√©pondre aux questions des appels d'offres (RFP) avec un contexte pr√©cis et pertinent. Cela permet potentiellement aux √©quipes commerciales d'augmenter le nombre d'appels d'offres auxquels elles peuvent r√©pondre.\n\nCette partie du workflow parcourt et r√©pond √† chaque question individuellement pour obtenir de meilleures r√©ponses. Nous pouvons enregistrer les paires Question et R√©ponse dans le document de r√©ponse √† l'appel d'offres que nous avons cr√©√© pr√©c√©demment."
      },
      "typeVersion": 1
    },
    {
      "id": "e663ba01-e9a6-4247-9d97-8f796d29d72a",
      "name": "Mod√®le de chat OpenAI",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        1960,
        540
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "openAiApi": {
          "id": "8gccIjcuf3gvaoEr",
          "name": "OpenAi account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "ec0b439e-9fd8-4960-b8bb-04f4f7814a0a",
      "name": "Note adh√©sive4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        300,
        60
      ],
      "parameters": {
        "width": 421.778219154496,
        "height": 515.8006969458895,
        "content": "## Essayez-le !\n\n**Ce workflow r√©alise les actions suivantes :**\n* Re√ßoit un document d'appel d'offres (RFP) via webhook\n* Cr√©e un nouveau document de r√©ponse √† l'appel d'offres via Google Docs\n* Utilise des LLM pour extraire les questions du document RFP dans une liste de questions\n* Parcourt chaque question et utilise un assistant OpenAI pour g√©n√©rer une r√©ponse. Enregistre chaque r√©ponse dans le document de r√©ponse.\n* Une fois termin√©, envoie une notification par gmail et slack √† l'√©quipe.\n\n\nüìÉ**Documents d'exemple**\nPour ex√©cuter ce workflow, vous aurez besoin des 2 documents suivants :\n* [Document RFP](https://drive.google.com/file/d/1G42h4Vz2lBuiNCnOiXF_-EBP1MaIEVq5/view?usp=sharing)\n* [Document d'exemple de l'entreprise](https://drive.google.com/file/d/16WywCYcxBgYHXB3TY3wXUTyfyG2n_BA0/view?usp=sharing)\n\n### Besoin d'aide ?\nRejoignez le [Discord](https://discord.com/invite/XPKeKXeB7d) ou posez votre question dans le [Forum](https://community.n8n.io/) !\n\nBon hacking !"
      },
      "typeVersion": 1
    },
    {
      "id": "244ff32d-9bc4-4a67-a6c2-4a7dc308058e",
      "name": "Note adh√©sive5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        3160,
        80
      ],
      "parameters": {
        "color": 7,
        "width": 474.3513281516049,
        "height": 390.51033452105344,
        "content": "## 5. Envoyer une notification une fois termin√©\n[En savoir plus sur l'utilisation de Slack](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.slack)\n\nEnfin, nous pouvons utiliser plusieurs moyens pour notifier l'√©quipe commerciale lorsque le processus est termin√©. Ici, nous avons choisi d'envoyer √† l'utilisateur demandeur un e-mail avec un lien vers le document de r√©ponse √† l'appel d'offres."
      },
      "typeVersion": 1
    },
    {
      "id": "94243b69-43b8-4731-9a6b-2934db832cc6",
      "name": "Envoyer une notification de chat",
      "type": "n8n-nodes-base.slack",
      "position": [
        3440,
        280
      ],
      "parameters": {
        "text": "=Document RFP \"{{ $('Set Variables').item.json.title }}\" termin√© !",
        "select": "channel",
        "channelId": {
          "__rl": true,
          "mode": "name",
          "value": "RFP-channel"
        },
        "otherOptions": {}
      },
      "credentials": {
        "slackApi": {
          "id": "VfK3js0YdqBdQLGP",
          "name": "Slack account"
        }
      },
      "typeVersion": 2.1
    },
    {
      "id": "391d7e07-2a6d-4c4d-bf42-9cc5466cc1b5",
      "name": "Envoyer une notification par e-mail",
      "type": "n8n-nodes-base.gmail",
      "position": [
        3240,
        280
      ],
      "parameters": {
        "sendTo": "={{ $('Set Variables').item.json.reply_to }}",
        "message": "=Votre document RFP \"{{ $('Set Variables').item.json.title }}\" est maintenant complet !",
        "options": {},
        "subject": "=Questionnaire RFP \"{{ $('Set Variables').item.json.title }}\" termin√© !",
        "emailType": "text"
      },
      "credentials": {
        "gmailOAuth2": {
          "id": "Sf5Gfl9NiFTNXFWb",
          "name": "Gmail account"
        }
      },
      "typeVersion": 2.1
    },
    {
      "id": "34115f45-21ff-49a0-95f4-1fed53b53583",
      "name": "Ajouter des m√©tadonn√©es au document de r√©ponse",
      "type": "n8n-nodes-base.googleDocs",
      "position": [
        1600,
        340
      ],
      "parameters": {
        "actionsUi": {
          "actionFields": [
            {
              "text": "=Title: {{ $('Set Variables').item.json.doc_title }}\nDate generated: {{ $now.format(\"yyyy-MM-dd @ hh:mm\") }}\nRequested by: {{ $('Set Variables').item.json.reply_to }}\nExecution Id: http://localhost:5678/workflow/{{ $workflow.id }}/executions/{{ $execution.id }}\n\n---\n\n",
              "action": "insert"
            }
          ]
        },
        "operation": "update",
        "documentURL": "={{ $json.id }}"
      },
      "credentials": {
        "googleDocsOAuth2Api": {
          "id": "V0G0vi1DRj7Cqbp9",
          "name": "Google Docs account"
        }
      },
      "typeVersion": 2
    },
    {
      "id": "f285d896-ba15-4f8a-b041-7cbcbe2e1050",
      "name": "Note adh√©sive6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        783,
        238
      ],
      "parameters": {
        "width": 192.30781285767205,
        "height": 306.5264325350084,
        "content": "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nüö®**Requis**\n* Utilisez un outil tel que Postman pour envoyer des donn√©es au webhook."
      },
      "typeVersion": 1
    },
    {
      "id": "b6e4e40e-b10b-48f2-bfe2-1ad38b1c6518",
      "name": "Enregistrer la question et la r√©ponse dans le document de r√©ponse",
      "type": "n8n-nodes-base.googleDocs",
      "position": [
        2940,
        460
      ],
      "parameters": {
        "actionsUi": {
          "actionFields": [
            {
              "text": "={{ $runIndex+1 }}. {{ $json.content }}\n{{ $json.output }}\n\n",
              "action": "insert"
            }
          ]
        },
        "operation": "update",
        "documentURL": "={{ $('Create new RFP Response Document').item.json.id }}"
      },
      "credentials": {
        "googleDocsOAuth2Api": {
          "id": "V0G0vi1DRj7Cqbp9",
          "name": "Google Docs account"
        }
      },
      "typeVersion": 2
    },
    {
      "id": "ae8cc28f-4fd3-41d7-8a30-2675f58d1067",
      "name": "Note adh√©sive7",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2600,
        440
      ],
      "parameters": {
        "width": 306.8994213707367,
        "height": 481.01365258903786,
        "content": "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nüö®**Requis**\nVous devrez cr√©er un assistant OpenAI pour utiliser ce workflow.\n* Inscrivez-vous sur le [Tableau de bord OpenAI](https://platform.openai.com) si ce n'est pas d√©j√† fait.\n* Cr√©ez un [Assistant OpenAI](https://platform.openai.com/playground/assistants)\n* T√©l√©versez le [document d'exemple de l'entreprise](https://drive.google.com/file/d/16WywCYcxBgYHXB3TY3wXUTyfyG2n_BA0/view?usp=sharing) dans l'assistant.\n\nL'assistant utilisera le document de l'entreprise pour r√©pondre aux questions."
      },
      "typeVersion": 1
    },
    {
      "id": "81825554-5cbe-469b-8511-a92d5ea165cb",
      "name": "Note adh√©sive8",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        3200,
        460
      ],
      "parameters": {
        "width": 386.79263167741857,
        "height": 94.04968721739164,
        "content": "üö®**Requis**\n* Mettez √† jour l'adresse e-mail de destination dans le n≈ìud Gmail.\n* Mettez √† jour le canal et le message pour Slack."
      },
      "typeVersion": 1
    },
    {
      "id": "25a57ca0-6789-499c-873b-07aba40530ed",
      "name": "R√©pondre √† la question avec contexte",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        2620,
        460
      ],
      "parameters": {
        "text": "={{ $json.response.text }}",
        "prompt": "d√©finir",
        "options": {},
        "resource": "assistant",
        "assistantId": {
          "__rl": true,
          "mode": "list",
          "value": "asst_QBI5lLKOsjktr3DRB4MwrgZd",
          "cachedResultName": "Nexus Digital Solutions Bot"
        }
      },
      "credentials": {
        "openAiApi": {
          "id": "8gccIjcuf3gvaoEr",
          "name": "OpenAi account"
        }
      },
      "typeVersion": 1.3
    },
    {
      "id": "1b4cc83b-a793-47c1-9dd6-0d7484db07b4",
      "name": "Attendre la demande",
      "type": "n8n-nodes-base.webhook",
      "position": [
        823,
        278
      ],
      "webhookId": "35e874df-2904-494e-a9f5-5a3f20f517f8",
      "parameters": {
        "path": "35e874df-2904-494e-a9f5-5a3f20f517f8",
        "options": {},
        "httpMethod": "POST"
      },
      "typeVersion": 2
    },
    {
      "id": "2f97e3e6-c100-4045-bcb3-6fbd17cfb420",
      "name": "Extraire les questions du RFP",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "position": [
        1960,
        380
      ],
      "parameters": {
        "text": "=Vous avez re√ßu un document RFP dans le cadre d'un processus d'appel d'offres d'un acheteur. Veuillez extraire toutes les questions destin√©es au fournisseur. Vous devez vous assurer que les questions extraites sont exactement telles qu'elles sont √©crites dans le document RFP.\n\n<RFP>{{ $('Get RFP Data').item.json.text }}<RFP>",
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 1.4
    },
    {
      "id": "4945b975-ac84-406e-8482-44cfa5679ef9",
      "name": "Note adh√©sive9",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        760,
        600
      ],
      "parameters": {
        "color": 5,
        "width": 529.9947173986736,
        "height": 157.64231937074243,
        "content": "### Exemple de requ√™te Webhook\ncurl --location 'https://<n8n_webhook_url>' \\\n--form 'id=\"RFP001\"' \\\n--form 'title=\"BlueChip Travel and StarBus Web Services\"' \\\n--form 'reply_to=\"jim@example.com\"' \\\n--form 'data=@\"k9pnbALxX/RFP Questionnaire.pdf\"'\n"
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "Obtenir les donn√©es de l'appel d'offres": {
      "main": [
        [
          {
            "node": "D√©finir les variables",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "D√©finir les variables": {
      "main": [
        [
          {
            "node": "Cr√©er un nouveau document de r√©ponse √† l'appel d'offres",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Attendre la demande": {
      "main": [
        [
          {
            "node": "Obtenir les donn√©es de l'appel d'offres",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Mod√®le de chat OpenAI": {
      "ai_languageModel": [
        [
          {
            "node": "Extraire les questions du RFP",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Pour chaque question...": {
      "main": [
        [
          {
            "node": "Envoyer une notification par e-mail",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "R√©pondre √† la question avec contexte",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Analyseur de sortie de liste d'√©l√©ments": {
      "ai_outputParser": [
        [
          {
            "node": "Extraire les questions du RFP",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Envoyer une notification par e-mail": {
      "main": [
        [
          {
            "node": "Envoyer une notification de chat",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extraire les questions du RFP": {
      "main": [
        [
          {
            "node": "Pour chaque question...",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Ajouter des m√©tadonn√©es au document de r√©ponse": {
      "main": [
        [
          {
            "node": "Extraire les questions du RFP",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "R√©pondre √† la question avec contexte": {
      "main": [
        [
          {
            "node": "Enregistrer la question et la r√©ponse dans le document de r√©ponse",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Cr√©er un nouveau document de r√©ponse √† l'appel d'offres": {
      "main": [
        [
          {
            "node": "Ajouter des m√©tadonn√©es au document de r√©ponse",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Enregistrer la question et la r√©ponse dans le document de r√©ponse": {
      "main": [
        [
          {
            "node": "Pour chaque question...",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "tags": [
    {
      "id": "1",
      "name": "Audelalia"
    }
  ]
}