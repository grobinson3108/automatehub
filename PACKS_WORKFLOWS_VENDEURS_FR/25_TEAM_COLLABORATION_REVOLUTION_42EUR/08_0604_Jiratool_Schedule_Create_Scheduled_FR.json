{
  "meta": {
    "instanceId": "408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9"
  },
  "nodes": [
    {
      "id": "645799b0-7ddb-4acb-a95d-3b04eadff445",
      "name": "Mod√®le de Chat OpenAI",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        1480,
        20
      ],
      "parameters": {
        "model": "gpt-4o-mini",
        "options": {}
      },
      "credentials": {
        "openAiApi": {
          "id": "8gccIjcuf3gvaoEr",
          "name": "OpenAi account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "e2923385-2f73-439c-9d5c-5a3c560993cb",
      "name": "Mod√®le de Chat OpenAI1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        2040,
        420
      ],
      "parameters": {
        "model": "gpt-4o-mini",
        "options": {}
      },
      "credentials": {
        "openAiApi": {
          "id": "8gccIjcuf3gvaoEr",
          "name": "OpenAi account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "c24728f9-73b9-45f7-9c4e-aee872c59714",
      "name": "Mod√®le de Chat OpenAI3",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        3180,
        -80
      ],
      "parameters": {
        "model": "gpt-4o-mini",
        "options": {}
      },
      "credentials": {
        "openAiApi": {
          "id": "8gccIjcuf3gvaoEr",
          "name": "OpenAi account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "0bc19e46-4a65-45fb-9571-d1f00d204c63",
      "name": "Mod√®le de Chat OpenAI4",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        2060,
        -261
      ],
      "parameters": {
        "model": "gpt-4o-mini",
        "options": {}
      },
      "credentials": {
        "openAiApi": {
          "id": "8gccIjcuf3gvaoEr",
          "name": "OpenAi account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "0c631234-125d-476b-b97a-2837d6a32f2b",
      "name": "D√©clencheur de Planification",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        -272,
        -180
      ],
      "parameters": {
        "rule": {
          "interval": [
            {}
          ]
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "96c9931d-d286-42f8-9629-2641eaa368b9",
      "name": "Obtenir les Commentaires du Probl√®me",
      "type": "n8n-nodes-base.jira",
      "position": [
        748,
        -180
      ],
      "parameters": {
        "options": {},
        "issueKey": "={{ $json.key }}",
        "resource": "issueComment",
        "operation": "getAll"
      },
      "credentials": {
        "jiraSoftwareCloudApi": {
          "id": "IH5V74q6PusewNjD",
          "name": "Jira SW Cloud account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "18a2770d-5240-4837-8837-4821f73ec560",
      "name": "Fermer le Probl√®me",
      "type": "n8n-nodes-base.jira",
      "position": [
        2660,
        -741
      ],
      "parameters": {
        "issueKey": "={{ $('Get Issue Metadata').item.json.key }}",
        "operation": "update",
        "updateFields": {
          "statusId": {
            "__rl": true,
            "mode": "list",
            "value": "31",
            "cachedResultName": "Done"
          }
        }
      },
      "credentials": {
        "jiraSoftwareCloudApi": {
          "id": "IH5V74q6PusewNjD",
          "name": "Jira SW Cloud account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "83e81448-26c7-4c29-a17a-409c53e05881",
      "name": "Envoyer un Rappel",
      "type": "n8n-nodes-base.jira",
      "position": [
        3500,
        -220
      ],
      "parameters": {
        "comment": "={{ $json.text }}\n(this is an automated message)",
        "options": {},
        "issueKey": "={{ $('Get Issue Metadata').item.json.key }}",
        "resource": "issueComment"
      },
      "credentials": {
        "jiraSoftwareCloudApi": {
          "id": "IH5V74q6PusewNjD",
          "name": "Jira SW Cloud account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "5fed9245-4af9-4de7-b021-750d2ba39e63",
      "name": "Joindre les Commentaires",
      "type": "n8n-nodes-base.aggregate",
      "position": [
        928,
        -180
      ],
      "parameters": {
        "options": {},
        "aggregate": "aggregateAllItemData"
      },
      "typeVersion": 1
    },
    {
      "id": "34712dd3-0348-4709-8a68-07279242910c",
      "name": "Ajouter un Message d'Auto-Fermeture",
      "type": "n8n-nodes-base.jira",
      "position": [
        2460,
        -561
      ],
      "parameters": {
        "comment": "=Autoclosing due to inactivity. Please create a new ticket if you require additional support. Thank you!\n(this is an automated message)",
        "options": {},
        "issueKey": "={{ $('Get Issue Metadata').item.json.key }}",
        "resource": "issueComment"
      },
      "credentials": {
        "jiraSoftwareCloudApi": {
          "id": "IH5V74q6PusewNjD",
          "name": "Jira SW Cloud account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "c43a3b66-838b-4970-a85f-dc0370437388",
      "name": "Demander un Message de Retour",
      "type": "n8n-nodes-base.jira",
      "position": [
        2460,
        -741
      ],
      "parameters": {
        "comment": "=[~accountid:{{ $('Get Issue Metadata').item.json.reporter_accountId }}]\n\nWe think the issue is resolved so we're autoclosing it. If you've been satisified with our service, please leave us a 5 start review here: [link](link/to/review_site)\n\nPlease feel free to create another ticket if you need further assistance.\n(this is an automated message)",
        "options": {},
        "issueKey": "={{ $('Get Issue Metadata').item.json.key }}",
        "resource": "issueComment"
      },
      "credentials": {
        "jiraSoftwareCloudApi": {
          "id": "IH5V74q6PusewNjD",
          "name": "Jira SW Cloud account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "3223ce45-9e5e-471c-9015-75e9f28088e9",
      "name": "Simplifier la Discussion pour l'IA",
      "type": "n8n-nodes-base.set",
      "position": [
        1108,
        -180
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "f65c5971-c90d-47f2-823f-37fd03d8e9c7",
              "name": "thread",
              "type": "array",
              "value": "={{\n$json.data.map(comment => {\n  const { accountId, displayName } = comment.author;\n\n  const message = comment.body.content.map(item =>\n    `<${item.type}>${item.content\n      .filter(c => c.text || c.content)\n      .map(c => c.content\n        ? c.content\n            .filter(cc => c.text || c.content)\n            .map(cc => cc.text)\n            .join(' ')\n        : c.text\n      )}</${item.type}>`\n  ).join('');\n  return `${displayName} (accountId: ${accountId}) says: ${message}`;\n})\n\n}}"
            },
            {
              "id": "7b98b2db-3417-472f-bea2-a7aebe30184c",
              "name": "topic",
              "type": "string",
              "value": "={{\n[\n  `title: ${$('Get Issue Metadata').item.json.title}`,\n  `original message: ${$('Get Issue Metadata').item.json.description.replaceAll(/\\n/g, ' ')}`,\n  `reported by: ${$('Get Issue Metadata').item.json.reporter}`\n].join('\\n')\n}}"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "e6f91099-1fe6-4930-8dda-b19330edb599",
      "name": "Solution Trouv√©e ?",
      "type": "n8n-nodes-base.if",
      "position": [
        2440,
        220
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "0e71783b-3072-421a-852c-58940d0dd7cd",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              },
              "leftValue": "={{ $json.output.solution_found }}",
              "rightValue": ""
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "696348a5-c955-47eb-ab44-f56652587944",
      "name": "R√©pondre au Probl√®me",
      "type": "n8n-nodes-base.jira",
      "position": [
        2760,
        220
      ],
      "parameters": {
        "comment": "=Hey there!\n{{ $('KnowledgeBase Agent').item.json.output.response }}\nWe'll close this issue now but feel free to create a new one if needed.\n(this is an automated message)",
        "options": {},
        "issueKey": "={{ $('Get Issue Metadata').item.json.key }}",
        "resource": "issueComment"
      },
      "credentials": {
        "jiraSoftwareCloudApi": {
          "id": "IH5V74q6PusewNjD",
          "name": "Jira SW Cloud account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "4d4562c7-f5ed-44b8-9292-9c1a75d51173",
      "name": "Le Dernier Message n'est Pas un Bot",
      "type": "n8n-nodes-base.if",
      "position": [
        3000,
        -220
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "6e07d5dc-01b2-4735-8fc1-983fc57dfaaf",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              },
              "leftValue": "={{ !$('Simplify Thread For AI').item.json.thread.last().includes('this is an automated message') }}",
              "rightValue": ""
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "e1ca19da-c030-478b-a488-dcb08d9be97e",
      "name": "Analyseur de sortie structur√©e",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        2400,
        420
      ],
      "parameters": {
        "schemaType": "manual",
        "inputSchema": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"solution_found\": {\n\t\t\t\"type\": \"boolean\"\n\t\t},\n        \"short_summary_of_issue\": {\n          \"type\": \"string\"\n        },\n\t\t\"response\": {\n\t\t\t\"type\": \"string\"\n\t\t}\n\t}\n}"
      },
      "typeVersion": 1.2
    },
    {
      "id": "596ef421-beb0-4523-a313-3f6ccd9e8f0c",
      "name": "Obtenir les m√©tadonn√©es du probl√®me",
      "type": "n8n-nodes-base.set",
      "position": [
        568,
        -180
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "200706ea-6936-48ae-a46c-38d6e2eff558",
              "name": "key",
              "type": "string",
              "value": "={{ $json.key }}"
            },
            {
              "id": "3e3584bf-dc5c-408a-896c-1660710860f6",
              "name": "title",
              "type": "string",
              "value": "={{ $json.fields.summary }}"
            },
            {
              "id": "e1d89014-5e07-4752-9e7c-ae8d4cba6f6e",
              "name": "url",
              "type": "string",
              "value": "={{\n[\n  'https:/',\n  $json.self.extractDomain(),\n    'browse',\n    $json.key\n  ].join('/')\n}}"
            },
            {
              "id": "df1cca88-1c57-475d-968e-999f6c25dba7",
              "name": "date",
              "type": "string",
              "value": "={{ DateTime.fromISO($json.fields.created).format('yyyy-MM-dd') }}"
            },
            {
              "id": "7fc9c625-e741-43bb-9223-b8024fc86cc7",
              "name": "reporter",
              "type": "string",
              "value": "={{ $json.fields.reporter.displayName }}"
            },
            {
              "id": "17bf06ae-fcad-4eb3-add8-11ac85e9a68e",
              "name": "reporter_url",
              "type": "string",
              "value": "={{\n[\n  'https:/',\n  $json.fields.reporter.self.extractDomain(),\n    'jira',\n    'people',\n    $json.fields.reporter.accountId\n  ].join('/')\n}}"
            },
            {
              "id": "7624642f-f76b-41ec-b402-280b64d46400",
              "name": "reporter_accountId",
              "type": "string",
              "value": "={{ $json.fields.reporter.accountId }}"
            },
            {
              "id": "0fa1d73f-4e8b-435b-a78d-37e95c85c87c",
              "name": "description",
              "type": "string",
              "value": "={{ $json.fields.description }}"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "23bb0cf8-c682-416c-a809-e9ca6fc480ef",
      "name": "Notifier le canal Slack",
      "type": "n8n-nodes-base.slack",
      "position": [
        2600,
        380
      ],
      "parameters": {
        "select": "channel",
        "blocksUi": "={{\n{\n\t\"blocks\": [\n\t\t{\n\t\t\t\"type\": \"section\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\"text\": \"Hey there üëã\\nI found a zombie ticket that no one has taken a look at yet.\"\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"section\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\"text\": `*[${$('Get Issue Metadata').item.json.key}]  ${$('Get Issue Metadata').item.json.title}*\\n${$('KnowledgeBase Agent').item.json.output.short_summary_of_issue}\\nüë§ <${$('Get Issue Metadata').item.json.reporter_url}|${$('Get Issue Metadata').item.json.reporter}> üìÖ ${$('Get Issue Metadata').item.json.date} üîó <${$('Get Issue Metadata').item.json.url}|Link to Issue>\\n`\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"divider\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"section\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\"text\": \"I couldn't find an answer in the knowledgebase so I've notified the user and closed the ticket. Thanks!\"\n\t\t\t}\n\t\t}\n\t]\n}\n}}",
        "channelId": {
          "__rl": true,
          "mode": "list",
          "value": "C07S0NQ04D7",
          "cachedResultName": "n8n-jira"
        },
        "messageType": "block",
        "otherOptions": {}
      },
      "credentials": {
        "slackApi": {
          "id": "VfK3js0YdqBdQLGP",
          "name": "Slack account"
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "21076f8f-8462-4a5a-8831-709a138639c5",
      "name": "Fermer le probl√®me2",
      "type": "n8n-nodes-base.jira",
      "position": [
        2920,
        220
      ],
      "parameters": {
        "issueKey": "={{ $('Get Issue Metadata').item.json.key }}",
        "operation": "update",
        "updateFields": {
          "statusId": {
            "__rl": true,
            "mode": "list",
            "value": "31",
            "cachedResultName": "Done"
          }
        }
      },
      "credentials": {
        "jiraSoftwareCloudApi": {
          "id": "IH5V74q6PusewNjD",
          "name": "Jira SW Cloud account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "6c9b30c5-d061-4b4d-b4fa-596ca0768297",
      "name": "Obtenir la liste des probl√®mes non r√©solus de longue dur√©e",
      "type": "n8n-nodes-base.jira",
      "position": [
        -72,
        -180
      ],
      "parameters": {
        "limit": 10,
        "options": {
          "jql": "status IN (\"To Do\", \"In Progress\") AND created <= -7d"
        },
        "operation": "getAll"
      },
      "credentials": {
        "jiraSoftwareCloudApi": {
          "id": "IH5V74q6PusewNjD",
          "name": "Jira SW Cloud account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "1c6c2919-c48b-47bb-a975-f184bd9e95dd",
      "name": "Note adh√©sive1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -337.3183708039286,
        -425.6402206027777
      ],
      "parameters": {
        "color": 7,
        "width": 640.6500163735489,
        "height": 484.114789072283,
        "content": "## 1. Rechercher les probl√®mes JIRA non r√©solus de longue dur√©e\n[En savoir plus sur le n≈ìud JIRA](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.jira)\n\nDans cette d√©monstration, nous d√©finirons ¬´¬†longue dur√©e¬†¬ª comme tout probl√®me non r√©solu apr√®s 7 jours. Ajustez selon vos propres crit√®res.\n\nNous utiliserons √©galement le n≈ìud Ex√©cuter un workflow pour traiter les probl√®mes s√©par√©ment en parall√®le. C'est une optimisation des performances et si ce n'est pas n√©cessaire, l'alternative est d'utiliser un n≈ìud boucle √† la place."
      },
      "typeVersion": 1
    },
    {
      "id": "f21d95a7-0cef-4110-a3b9-59c562b2ea24",
      "name": "Ex√©cuter un workflow",
      "type": "n8n-nodes-base.executeWorkflow",
      "position": [
        128,
        -180
      ],
      "parameters": {
        "mode": "each",
        "options": {},
        "workflowId": {
          "__rl": true,
          "mode": "id",
          "value": "={{ $workflow.id }}"
        }
      },
      "typeVersion": 1.1
    },
    {
      "id": "e9f9e6e6-c66d-4e50-b4d4-3931b8cf40c9",
      "name": "D√©clencheur d'ex√©cution de workflow",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "position": [
        388,
        -180
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "91b5e024-6141-47e8-99ff-9ac25df7df48",
      "name": "Note adh√©sive2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        320,
        -353.43597793972225
      ],
      "parameters": {
        "color": 7,
        "width": 956.5422324510927,
        "height": 411.91054640922755,
        "content": "## 2. R√©cup√©rer et combiner les commentaires des probl√®mes JIRA\n[En savoir plus sur le n≈ìud JIRA](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.jira)\n\nPour fournir les informations n√©cessaires √† nos agents IA, nous allons r√©cup√©rer et combiner tous les commentaires du probl√®me avec notre probl√®me. Cela donne un historique pr√©cis de l'√©volution du probl√®me (ou de son absence !)."
      },
      "typeVersion": 1
    },
    {
      "id": "9b545aa8-d2df-4500-8af0-ee55b0fcc736",
      "name": "Note adh√©sive3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1300,
        -381.8893508540474
      ],
      "parameters": {
        "color": 7,
        "width": 653.0761795166852,
        "height": 583.0290516595711,
        "content": "## 3. Classifier l'√âtat Actuel du Probl√®me\n[En savoir plus sur le n≈ìud Classificateur de Texte](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.text-classifier)\n\nLes IA/LLMs actuels sont bien adapt√©s pour r√©soudre des probl√®mes contextuels comme la d√©termination de l'√©tat d'un probl√®me. Ici, nous pouvons utiliser le n≈ìud classificateur de texte pour analyser le probl√®me dans son ensemble afin de d√©terminer notre prochaine action. Presque comme un n≈ìud Switch vraiment, vraiment intelligent !\n\nIl y a 3 branches que nous voulons emprunter : v√©rifier si une r√©solution a √©t√© atteinte, les probl√®mes bloqu√©s et la r√©solution automatique lorsque aucun membre de l'√©quipe n'a encore r√©pondu."
      },
      "typeVersion": 1
    },
    {
      "id": "abe0da8f-4107-4641-b992-1a31f71ce530",
      "name": "Note Autocollante4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1980,
        -820
      ],
      "parameters": {
        "color": 7,
        "width": 896.1509781357872,
        "height": 726.4699654775604,
        "content": "## 4. Analyse de Sentiment sur la R√©solution du Probl√®me\n[En savoir plus sur le n≈ìud d'Analyse de Sentiment](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.sentimentanalysis)\n\nLe n≈ìud d'Analyse de Sentiment est une m√©thode pratique pour √©valuer\nla satisfaction client √† partir des probl√®mes r√©solus. Ici, lorsque la r√©solution\nest d√©tect√©e comme positive, nous pouvons saisir l'opportunit√© de\ncapitaliser sur l'exp√©rience favorable qui, dans cet exemple,\nconsiste √† demander un avis. √Ä l'inverse, si l'√©change a √©t√©\nn√©gatif, nous pouvons escalader afin d'essayer d'am√©liorer\nla situation avant de cl√¥turer le ticket.\n\nL'IA peut permettre aux √©quipes de fournir un support client in√©gal√©\nqui peut les diff√©rencier significativement de la concurrence."
      },
      "typeVersion": 1
    },
    {
      "id": "d9c97501-e2cf-4a7e-86cc-c295d69db939",
      "name": "Agent de Satisfaction Client",
      "type": "@n8n/n8n-nodes-langchain.sentimentAnalysis",
      "position": [
        2060,
        -400
      ],
      "parameters": {
        "options": {},
        "inputText": "=issue:\n{{ $('Simplify Thread For AI').item.json.topic }}\n\ncomments:\n{{ $('Simplify Thread For AI').item.json.thread.join('\\n') }}"
      },
      "typeVersion": 1
    },
    {
      "id": "2829d591-8347-4683-be10-663872c08546",
      "name": "Note Autocollante5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1980,
        -60
      ],
      "parameters": {
        "color": 7,
        "width": 1120.504487917144,
        "height": 675.5857025907994,
        "content": "## 5. Tentative de R√©solution du Probl√®me avec la Base de Connaissances\n[En savoir plus sur le n≈ìud Agent IA](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent/)\n\nLorsque le probl√®me n'est pas trait√©, nous pouvons tenter de le r√©soudre automatiquement en utilisant l'IA. Ici, un agent IA peut √™tre facilement d√©ploy√© avec\nl'acc√®s √† des outils de connaissance pour rechercher et g√©n√©rer des solutions pour l'utilisateur. Depuis n8n v1.62.1, les Agents d'Outils IA peuvent attacher directement des n≈ìuds comme\noutils, offrant un moyen tr√®s simple de lier des documents au LLM.\n\nIci, nous utilisons √† la fois l'outil JIRA pour rechercher des probl√®mes similaires et l'outil notion pour interroger des pages produit. Si une solution peut √™tre g√©n√©r√©e,\nnous cr√©ons un nouveau commentaire avec la solution et l'attachons au probl√®me. Sinon, nous pouvons laisser un simple message informant l'utilisateur que nous n'avons pas pu le faire. Enfin, nous cl√¥turons le probl√®me car aucune autre action ne peut probablement √™tre prise dans ce cas."
      },
      "typeVersion": 1
    },
    {
      "id": "112c9fd3-c104-4a68-8e58-96a317fef854",
      "name": "Agent Base de Connaissances",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        2060,
        220
      ],
      "parameters": {
        "text": "=issue:\n{{ $('Simplify Thread For AI').item.json.topic }}\n\ncomments:\n{{ $('Simplify Thread For AI').item.json.thread.join('\\n') }}",
        "options": {
          "systemMessage": "Aidez l'utilisateur √† r√©pondre √† sa question en utilisant la base de connaissances de l'entreprise. Votre r√©ponse doit √™tre factuellement bas√©e sur les documents r√©cup√©r√©s de la base. Si aucune information pertinente n'est trouv√©e ou si les informations sont insuffisantes pour r√©pondre √† la requ√™te de l'utilisateur, vous devez le lui dire et ne pas induire l'utilisateur en erreur. Si vous ne connaissez pas la r√©ponse, il est acceptable de dire que vous ne savez pas."
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 1.6
    },
    {
      "id": "c27e0679-29a0-45d7-ada7-9727975b5069",
      "name": "Note Autocollante6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2900,
        -421.245651256349
      ],
      "parameters": {
        "color": 7,
        "width": 801.0347525891818,
        "height": 507.581094640126,
        "content": "## 6. Notification pour Questions Sans R√©ponse ou En Attente de R√©ponse\n[En savoir plus sur le n≈ìud Basic LLM Chain](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.chainllm/)\n\n√Ä cette √©tape, lorsque les signaux indiquent que le probl√®me n'est pas encore pr√™t √† √™tre cl√¥tur√©, nous pouvons essayer de r√©engager les participants au probl√®me en r√©sumant la conversation jusqu'√† pr√©sent et en envoyant un commentaire de rappel pour toute action en attente qui a √©t√© demand√©e. Cette action peut aider √† r√©duire le nombre de probl√®mes qui tra√Ænent trop longtemps."
      },
      "typeVersion": 1
    },
    {
      "id": "0a7da82e-789b-401c-80d0-de3ade51942c",
      "name": "Agent de rappel de probl√®me",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "position": [
        3180,
        -220
      ],
      "parameters": {
        "text": "=issue:\n{{ $('Simplify Thread For AI').item.json.topic }}\n\ncomments:\n{{ $('Simplify Thread For AI').item.json.thread }}",
        "messages": {
          "messageValues": [
            {
              "message": "=L'utilisateur a un probl√®me en attente et un certain temps s'est √©coul√© depuis la derni√®re mise √† jour. Analysez le dernier message de ce fil de discussion et g√©n√©rez un court message de rappel √† ajouter aux commentaires du probl√®me qui r√©sume et r√©it√®re quelle action ou information en attente est requise. Retournez uniquement le message."
            }
          ]
        },
        "promptType": "define"
      },
      "typeVersion": 1.4
    },
    {
      "id": "2847136e-b95b-4906-89af-ceb180abb9b0",
      "name": "Note autocollante",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -820,
        -560
      ],
      "parameters": {
        "width": 454.99286536248565,
        "height": 619.151728428442,
        "content": "## Essayez-le !\n\n### Ce mod√®le n8n est con√ßu pour aider et am√©liorer la capacit√© des membres de l'√©quipe de support client en automatisant la r√©solution des probl√®mes JIRA anciens et oubli√©s.\n\n* Le d√©clencheur de planification s'ex√©cute quotidiennement pour v√©rifier les probl√®mes non r√©solus de longue date et les importe dans le workflow.\n* Chaque probl√®me est trait√© comme un sous-workflow distinct en utilisant un n≈ìud d'ex√©cution de workflow. Cela permet un traitement parall√®le.\n* Un rapport est g√©n√©r√© √† partir du probl√®me en utilisant son historique de commentaires, ce qui permet de classer le probl√®me par IA - d√©terminant l'√©tat et l'avancement du probl√®me.\n* Si le probl√®me est jug√© r√©solu, une analyse de sentiment est effectu√©e pour suivre la satisfaction client. En cas de sentiment n√©gatif, un message Slack est envoy√© pour escalader, sinon le probl√®me est automatiquement ferm√©.\n* Si aucune r√©ponse n'a √©t√© initi√©e, un agent IA tentera de rechercher et de r√©soudre le probl√®me lui-m√™me en utilisant des probl√®mes similaires r√©solus ou √† partir de la base de donn√©es Notion. Si une solution est trouv√©e, elle est post√©e sur le probl√®me et celui-ci est ferm√©.\n* Si le probl√®me est bloqu√© et en attente de r√©ponses, un message de rappel est ajout√©.\n\n### Besoin d'aide ?\nRejoignez le [Discord](https://discord.com/invite/XPKeKXeB7d) ou posez votre question dans le [Forum](https://community.n8n.io/) !"
      },
      "typeVersion": 1
    },
    {
      "id": "9edb0847-5dcf-4357-a1d4-537a126e277b",
      "name": "Trouver des probl√®mes similaires",
      "type": "n8n-nodes-base.jiraTool",
      "position": [
        2160,
        420
      ],
      "parameters": {
        "limit": 4,
        "options": {
          "jql": "=text ~ \"{{ $fromAI('title', 'the title of the current issue', 'string', '') }}\" AND status IN (\"In Progress\", \"Done\")"
        },
        "operation": "getAll",
        "descriptionType": "manual",
        "toolDescription": "Appelez cet outil pour rechercher des probl√®mes similaires dans JIRA."
      },
      "credentials": {
        "jiraSoftwareCloudApi": {
          "id": "IH5V74q6PusewNjD",
          "name": "Jira SW Cloud account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "573c1b75-35ae-40f0-aa6e-c1372f83569b",
      "name": "Interroger la base de connaissances",
      "type": "n8n-nodes-base.notionTool",
      "position": [
        2280,
        420
      ],
      "parameters": {
        "text": "={{ $fromAI('search_terms', 'termes pertinents pour rechercher des informations sur le probl√®me actuel', 'string', '') }}",
        "limit": 4,
        "options": {},
        "operation": "search",
        "descriptionType": "manual",
        "toolDescription": "Recherchez dans la base de connaissances des informations pertinentes au probl√®me."
      },
      "credentials": {
        "notionApi": {
          "id": "iHBHe7ypzz4mZExM",
          "name": "Notion account"
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "1274f6ff-16d9-4d86-b75a-59755390a07c",
      "name": "Signaler une r√©solution insatisfaisante",
      "type": "n8n-nodes-base.slack",
      "position": [
        2660,
        -400
      ],
      "parameters": {
        "text": "=",
        "select": "channel",
        "blocksUi": "={{\n{\n\t\"blocks\": [\n\t\t{\n\t\t\t\"type\": \"section\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\"text\": \"Hey there üëã\\nI found a unclosed ticket which was resolved but thread overall has a negative sentiment score. Please address or close the ticket.\"\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"section\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\"text\": `*[${$('Get Issue Metadata').item.json.key}]  ${$('Get Issue Metadata').item.json.title}*\\n${$('KnowledgeBase Agent').item.json.output.short_summary_of_issue}\\nüë§ <${$('Get Issue Metadata').item.json.reporter_url}|${$('Get Issue Metadata').item.json.reporter}> üìÖ ${$('Get Issue Metadata').item.json.date} üîó <${$('Get Issue Metadata').item.json.url}|Link to Issue>\\n`\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"divider\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"section\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\"text\": \"Thanks!\"\n\t\t\t}\n\t\t}\n\t]\n}\n}}",
        "channelId": {
          "__rl": true,
          "mode": "list",
          "value": "C07S0NQ04D7",
          "cachedResultName": "n8n-jira"
        },
        "messageType": "block",
        "otherOptions": {}
      },
      "credentials": {
        "slackApi": {
          "id": "VfK3js0YdqBdQLGP",
          "name": "Slack account"
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "3226d576-c3ae-444a-b0c5-ac797d25dd2e",
      "name": "Classer l'√©tat actuel du probl√®me",
      "type": "@n8n/n8n-nodes-langchain.textClassifier",
      "position": [
        1480,
        -140
      ],
      "parameters": {
        "options": {},
        "inputText": "=issue:\n{{ $('Simplify Thread For AI').item.json.topic }}\n\ncomments:\n{{ $('Simplify Thread For AI').item.json.thread.join('\\n') || 'There are no comments' }}",
        "categories": {
          "categories": [
            {
              "category": "resolved",
              "description": "There are human comments and a resolution was found and/or accepted"
            },
            {
              "category": "pending more information",
              "description": "There are human comments but no resolution has been reached yet"
            },
            {
              "category": "still waiting",
              "description": "Reporter is still waiting on a response. Ignoring automated messages, there are no comments."
            }
          ]
        }
      },
      "executeOnce": false,
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "Joindre les Commentaires": {
      "main": [
        [
          {
            "node": "Simplifier la Discussion pour l'IA",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "R√©pondre au Probl√®me": {
      "main": [
        [
          {
            "node": "Fermer le probl√®me2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Solution Trouv√©e ?": {
      "main": [
        [
          {
            "node": "R√©pondre au Probl√®me",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Notifier le canal Slack",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "D√©clencheur de Planification": {
      "main": [
        [
          {
            "node": "Obtenir la liste des probl√®mes non r√©solus de longue dur√©e",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Mod√®le de Chat OpenAI": {
      "ai_languageModel": [
        [
          {
            "node": "Classer l'√©tat actuel du probl√®me",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Trouver des probl√®mes similaires": {
      "ai_tool": [
        [
          {
            "node": "Agent Base de Connaissances",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Obtenir les Commentaires du Probl√®me": {
      "main": [
        [
          {
            "node": "Joindre les Commentaires",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Obtenir les m√©tadonn√©es du probl√®me": {
      "main": [
        [
          {
            "node": "Obtenir les Commentaires du Probl√®me",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Mod√®le de Chat OpenAI1": {
      "ai_languageModel": [
        [
          {
            "node": "Agent Base de Connaissances",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Mod√®le de Chat OpenAI3": {
      "ai_languageModel": [
        [
          {
            "node": "Agent de rappel de probl√®me",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Mod√®le de Chat OpenAI4": {
      "ai_languageModel": [
        [
          {
            "node": "Agent de Satisfaction Client",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Agent Base de Connaissances": {
      "main": [
        [
          {
            "node": "Solution Trouv√©e ?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Interroger la base de connaissances": {
      "ai_tool": [
        [
          {
            "node": "Agent Base de Connaissances",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Agent de rappel de probl√®me": {
      "main": [
        [
          {
            "node": "Envoyer un Rappel",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Notifier le canal Slack": {
      "main": [
        [
          {
            "node": "R√©pondre au Probl√®me",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Ajouter un Message d'Auto-Fermeture": {
      "main": [
        [
          {
            "node": "Fermer le Probl√®me",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simplifier la Discussion pour l'IA": {
      "main": [
        [
          {
            "node": "Classer l'√©tat actuel du probl√®me",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Le Dernier Message n'est Pas un Bot": {
      "main": [
        [
          {
            "node": "Agent de rappel de probl√®me",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Demander un Message de Retour": {
      "main": [
        [
          {
            "node": "Fermer le Probl√®me",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "D√©clencheur d'ex√©cution de workflow": {
      "main": [
        [
          {
            "node": "Obtenir les m√©tadonn√©es du probl√®me",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Analyseur de sortie structur√©e": {
      "ai_outputParser": [
        [
          {
            "node": "Agent Base de Connaissances",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Agent de Satisfaction Client": {
      "main": [
        [
          {
            "node": "Demander un Message de Retour",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Ajouter un Message d'Auto-Fermeture",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Signaler une r√©solution insatisfaisante",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Classer l'√©tat actuel du probl√®me": {
      "main": [
        [
          {
            "node": "Agent de Satisfaction Client",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Le Dernier Message n'est Pas un Bot",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Agent Base de Connaissances",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Obtenir la liste des probl√®mes non r√©solus de longue dur√©e": {
      "main": [
        [
          {
            "node": "Ex√©cuter un workflow",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "tags": [
    {
      "id": "1",
      "name": "Audelalia"
    }
  ]
}