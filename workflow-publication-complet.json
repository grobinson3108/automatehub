{
  "name": "Publication Multi-Plateformes AutomateHub",
  "nodes": [
    {
      "parameters": {
        "events": [
          {
            "name": "file:new",
            "value": "file:new"
          }
        ],
        "triggerOn": "specificFolder",
        "folderToWatch": "/var/www/automatehub/videos",
        "options": {
          "includeSubfolders": false,
          "fileExtensions": ".mp4"
        }
      },
      "id": "e8f5d6c4-3b2a-1f9e-8d7c-6b5a4f3e2d1c",
      "name": "Nouvelle Vid√©o D√©tect√©e",
      "type": "n8n-nodes-base.localFileTrigger",
      "typeVersion": 1,
      "position": [250, 300]
    },
    {
      "parameters": {
        "fileSelector": "={{ $json.path.replace('.mp4', '_transcription.txt') }}",
        "options": {}
      },
      "id": "f9e8d7c6-4b3a-2f0e-9e8d-7c6b5a4f3d2e",
      "name": "Lire Transcription",
      "type": "n8n-nodes-base.readBinaryFile",
      "typeVersion": 1,
      "position": [450, 300],
      "continueOnFail": true
    },
    {
      "parameters": {
        "resource": "chat",
        "model": "gpt-4-turbo-preview",
        "messages": {
          "values": [
            {
              "role": "system",
              "content": "Tu es un expert en marketing digital sp√©cialis√© dans la promotion de formations n8n et automatisation. Tu dois cr√©er des posts engageants pour diff√©rentes plateformes sociales qui donnent envie de rejoindre la communaut√© Skool AutomateHub (https://skool.com/automatehub). Chaque post doit √™tre adapt√© au ton et format de la plateforme."
            },
            {
              "role": "user",
              "content": "Cr√©e des posts pour promouvoir cette vid√©o sur l'automatisation n8n.\n\nTitre vid√©o: {{ $('Nouvelle Vid√©o D√©tect√©e').item.json.fileName.replace('.mp4', '') }}\nTranscription: {{ $('Lire Transcription').item.binary ? $('Lire Transcription').item.binary.data.toString() : 'Pas de transcription disponible' }}\n\nG√©n√®re un post pour chaque plateforme:\n\n1. **LinkedIn** (professionnel, 150-300 mots)\n- Ton: Professionnel mais accessible\n- Structure: Probl√®me ‚Üí Solution ‚Üí B√©n√©fices ‚Üí CTA\n- Inclure 3-5 hashtags pertinents\n\n2. **Facebook** (convivial, 100-200 mots)  \n- Ton: Amical et conversationnel\n- Utiliser des emojis pertinents\n- Question d'engagement √† la fin\n\n3. **Instagram** (accrocheur, 50-150 mots)\n- Commencer par un hook fort\n- Utiliser des emojis et sauts de ligne\n- 10-15 hashtags mix populaires/niche\n\n4. **TikTok** (viral, 50-100 mots)\n- Ton jeune et dynamique\n- Format: POV ou situation relatable\n- Hashtags trends du moment\n\nChaque post doit:\n- Mettre en avant UN b√©n√©fice concret et mesurable\n- Inclure un CTA clair vers: https://skool.com/automatehub\n- Mentionner l'acc√®s gratuit aux 100 premiers workflows\n- Cr√©er un sentiment d'urgence ou FOMO"
            }
          ]
        },
        "options": {
          "temperature": 0.7,
          "maxTokens": 2000
        }
      },
      "id": "a1b2c3d4-5e6f-7g8h-9i0j-k1l2m3n4o5p6",
      "name": "G√©n√©rer Posts Sociaux",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1,
      "position": [650, 300]
    },
    {
      "parameters": {
        "values": {
          "string": [
            {
              "name": "videoTitle",
              "value": "={{ $('Nouvelle Vid√©o D√©tect√©e').item.json.fileName.replace('.mp4', '') }}"
            },
            {
              "name": "videoPath", 
              "value": "={{ $('Nouvelle Vid√©o D√©tect√©e').item.json.path }}"
            },
            {
              "name": "posts",
              "value": "={{ $('G√©n√©rer Posts Sociaux').item.json.choices[0].message.content }}"
            },
            {
              "name": "timestamp",
              "value": "={{ $now.format('yyyy-MM-dd HH:mm:ss') }}"
            }
          ]
        }
      },
      "id": "q9w8e7r6-5t4y-3u2i-1o0p-a9s8d7f6g5h4",
      "name": "Pr√©parer Donn√©es",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3,
      "position": [850, 300]
    },
    {
      "parameters": {
        "fileName": "={{ '/var/www/automatehub/posts/' + $json.videoTitle + '_posts_' + $now.format('yyyy-MM-dd') + '.txt' }}",
        "fileContent": "=== POSTS R√âSEAUX SOCIAUX ===\nVid√©o: {{ $json.videoTitle }}\nG√©n√©r√© le: {{ $json.timestamp }}\n\n{{ $json.posts }}\n\n=== FIN DES POSTS ===",
        "options": {}
      },
      "id": "z1x2c3v4-5b6n-7m8k-9l0o-p1q2w3e4r5t6",
      "name": "Sauvegarder Posts",
      "type": "n8n-nodes-base.writeBinaryFile",
      "typeVersion": 1,
      "position": [1050, 300]
    },
    {
      "parameters": {
        "authentication": "oAuth2",
        "resource": "message",
        "operation": "post",
        "channelId": "social-media",
        "text": "üé¨ **Nouvelle vid√©o pr√™te √† publier!**\n\nüìπ Titre: {{ $('Pr√©parer Donn√©es').item.json.videoTitle }}\nüìÖ Date: {{ $('Pr√©parer Donn√©es').item.json.timestamp }}\n\n‚úÖ Posts g√©n√©r√©s pour:\n‚Ä¢ LinkedIn\n‚Ä¢ Facebook  \n‚Ä¢ Instagram\n‚Ä¢ TikTok\n\nüìÑ Fichier sauvegard√© dans `/posts/`\nüîó Communaut√© Skool: https://skool.com/automatehub",
        "options": {
          "username": "AutomateHub Bot",
          "icon_emoji": ":robot_face:"
        }
      },
      "id": "m7n8b9v0-1c2x-3z4a-5s6d-7f8g9h0j1k2l",
      "name": "Notification Slack",
      "type": "n8n-nodes-base.slack",
      "typeVersion": 2,
      "position": [1250, 300],
      "continueOnFail": true
    },
    {
      "parameters": {
        "content": "## üì± Configuration R√©seaux Sociaux\n\n**Formats vid√©o recommand√©s:**\n- YouTube/LinkedIn: 16:9 (horizontal)\n- Instagram: 1:1 (carr√©) ou 9:16 (Reels)\n- TikTok: 9:16 (vertical)\n\n**Heures de publication optimales (heure FR):**\n- LinkedIn: 7h-9h, 12h-13h, 17h-18h\n- Facebook: 13h-16h\n- Instagram: 11h-13h, 19h-21h\n- TikTok: 6h-9h, 19h-23h\n\n**CTA Skool:**\n- \"üéØ Rejoins +500 entrepreneurs\"\n- \"üöÄ 100 workflows gratuits\"\n- \"üí° Formation n8n compl√®te\"",
        "height": 350,
        "width": 350
      },
      "id": "sticky-config",
      "name": "Config R√©seaux",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [600, 50]
    },
    {
      "parameters": {
        "content": "## üîß Configuration du Workflow\n\n1. **Dossier surveill√©**: `/var/www/automatehub/videos`\n2. **Transcription**: Fichier `.txt` avec m√™me nom que vid√©o\n3. **Posts sauvegard√©s**: `/var/www/automatehub/posts`\n4. **Notification**: Slack (optionnel)\n\n**Pour ajouter:**\n- Email avec posts en pi√®ce jointe\n- Google Sheets pour tracking\n- Programmation auto sur Buffer/Hootsuite",
        "height": 250,
        "width": 350
      },
      "id": "sticky-setup",
      "name": "Setup Instructions",
      "type": "n8n-nodes-base.stickyNote", 
      "typeVersion": 1,
      "position": [250, 50]
    }
  ],
  "connections": {
    "Nouvelle Vid√©o D√©tect√©e": {
      "main": [
        [
          {
            "node": "Lire Transcription",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Lire Transcription": {
      "main": [
        [
          {
            "node": "G√©n√©rer Posts Sociaux",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "G√©n√©rer Posts Sociaux": {
      "main": [
        [
          {
            "node": "Pr√©parer Donn√©es",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Pr√©parer Donn√©es": {
      "main": [
        [
          {
            "node": "Sauvegarder Posts",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Sauvegarder Posts": {
      "main": [
        [
          {
            "node": "Notification Slack",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [
    {
      "name": "social-media",
      "createdAt": "2025-01-14T10:00:00.000Z"
    },
    {
      "name": "content-automation",
      "createdAt": "2025-01-14T10:00:00.000Z"
    }
  ]
}